(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6c68b617"],{"5b17":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"songitem"},[i("div",{staticClass:"top"},[i("img",{attrs:{src:t.pic,alt:""}}),i("img",{staticClass:"imgbg",attrs:{src:t.pic,alt:""}}),i("div",{staticClass:"details"},[i("h3",[t._v(t._s(t.details.name))]),i("p",[t._v(t._s(t.details.description))])])]),i("ul",{staticClass:"kong"},[i("img",{attrs:{src:n("11e3"),alt:""}}),t._l(t.dangsongs,(function(e,n){return i("li-item",{key:e.id,attrs:{item:e},on:{play:function(e){return t.$emit("play",e)}},scopedSlots:t._u([{key:"sortnum",fn:function(){return[i("b",[t._v(t._s(n+1<10?"0"+(n+1):n+1))])]},proxy:!0}],null,!0)})})),t.isLoading?i("loading",{staticStyle:{"margin-top":"10px"}}):t._e()],2)])},s=[],a=(n("3596"),n("5d3f"),n("728b"),n("8f4a")),o=n("3a5e"),r={props:["id"],components:{LiItem:a["a"],Loading:o["a"]},mounted:function(){window.addEventListener("scroll",this.debounce(this.handleScroll,1e3))},beforeRountLeave:function(t,e,n){window.removeEventListener("scroll",this.debounce(this.handleScroll,1e3)),n()},methods:{debounce:function(t,e){var n=null;return function(){null!==n&&clearTimeout(n),n=setTimeout(t,e)}},handleScroll:function(){var t=document.documentElement.scrollHeight,e=document.documentElement.scrollTop,n=document.documentElement.clientHeight,i=t-(e+n);if(i<3){this.page++;var s=this.page*this.perpage,a=(this.page+1)*this.perpage,o=this.songs.slice(s,a);this.dangsongs=this.dangsongs.concat(o)}}},data:function(){return{show:!1,pic:"",songs:[],dangsongs:[],details:"",i:-1,isLoading:!0,page:0,perpage:20}},beforeRouteEnter:function(t,e,n){n((function(t){t.axios.get("/playlist/detail?id="+t.id).then((function(e){console.log(e),t.pic=e.data.playlist.coverImgUrl,t.songs=e.data.playlist.tracks.map((function(t,n){return t.song={privilege:e.data.privileges[n],artists:t.ar,album:t.al},t})),t.details=e.data.playlist,t.dangsongs=t.songs.slice(0,20)}))}))}},c=r,l=(n("dbca4"),n("5d22")),d=Object(l["a"])(c,i,s,!1,null,"62df4466",null);e["default"]=d.exports},"5d3f":function(t,e,n){"use strict";var i=n("3241"),s=n("d7c6"),a=n("9335"),o=n("e72c"),r=n("2b0b"),c=n("f26f"),l=n("1959"),d=n("ff21"),u=n("c1b0"),g=n("2f14"),f=n("aef2"),p=g("isConcatSpreadable"),m=9007199254740991,h="Maximum allowed index exceeded",v=f>=51||!s((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),b=u("concat"),w=function(t){if(!o(t))return!1;var e=t[p];return void 0!==e?!!e:a(t)},y=!v||!b;i({target:"Array",proto:!0,forced:y},{concat:function(t){var e,n,i,s,a,o=r(this),u=d(o,0),g=0;for(e=-1,i=arguments.length;e<i;e++)if(a=-1===e?o:arguments[e],w(a)){if(s=c(a.length),g+s>m)throw TypeError(h);for(n=0;n<s;n++,g++)n in a&&l(u,g,a[n])}else{if(g>=m)throw TypeError(h);l(u,g++,a)}return u.length=g,u}})},"8d51":function(t,e,n){},dbca4:function(t,e,n){"use strict";n("8d51")}}]);
//# sourceMappingURL=chunk-6c68b617.6e6c02e1.js.map